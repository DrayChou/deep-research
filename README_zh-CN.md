<div align="center">
<h1>Deep Research</h1>

![GitHub deployments](https://img.shields.io/github/deployments/u14app/gemini-next-chat/Production)
![GitHub Release](https://img.shields.io/github/v/release/u14app/deep-research)
![Docker Image Size](https://img.shields.io/docker/image-size/xiangfa/deep-research/latest)
![Docker Pulls](https://img.shields.io/docker/pulls/xiangfa/deep-research)
[![License: MIT](https://img.shields.io/badge/License-MIT-default.svg)](https://opensource.org/licenses/MIT)

[![Gemini](https://img.shields.io/badge/Gemini-8E75B2?style=flat&logo=googlegemini&logoColor=white)](https://ai.google.dev/)
[![Next](https://img.shields.io/badge/Next.js-111111?style=flat&logo=nextdotjs&logoColor=white)](https://nextjs.org/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind%20CSS-06B6D4?style=flat&logo=tailwindcss&logoColor=white)](https://tailwindcss.com/)
[![shadcn/ui](https://img.shields.io/badge/shadcn/ui-111111?style=flat&logo=shadcnui&logoColor=white)](https://ui.shadcn.com/)

[![Vercel](https://img.shields.io/badge/Vercel-111111?style=flat&logo=vercel&logoColor=white)](https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fu14app%2Fdeep-research&project-name=deep-research&repository-name=deep-research)
[![Cloudflare](https://img.shields.io/badge/Cloudflare-F69652?style=flat&logo=cloudflare&logoColor=white)](./docs/How-to-deploy-to-Cloudflare-Pages.md)
[![PWA](https://img.shields.io/badge/PWA-blue?style=flat&logo=pwa&logoColor=white)](https://research.u14.app/)

</div>

**é—ªç”µèˆ¬å¿«é€Ÿçš„æ·±åº¦ç ”ç©¶æŠ¥å‘Š**

Deep Research ä½¿ç”¨å„ç§å¼ºå¤§çš„ AI æ¨¡å‹åœ¨å‡ åˆ†é’Ÿå†…ç”Ÿæˆæ·±å…¥çš„ç ”ç©¶æŠ¥å‘Šã€‚å®ƒåˆ©ç”¨å…ˆè¿›çš„"æ€è€ƒ"å’Œ"ä»»åŠ¡"æ¨¡å‹ï¼Œç»“åˆäº’è”ç½‘è¿æ¥ï¼Œä¸ºå„ç§ä¸»é¢˜æä¾›å¿«é€Ÿè€Œæ·±åˆ»çš„åˆ†æã€‚**æ‚¨çš„éšç§è‡³å…³é‡è¦ - æ‰€æœ‰æ•°æ®éƒ½åœ¨æœ¬åœ°å¤„ç†å’Œå­˜å‚¨ã€‚**

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- **å¿«é€Ÿæ·±åº¦ç ”ç©¶ï¼š** åœ¨çº¦ 2 åˆ†é’Ÿå†…ç”Ÿæˆå…¨é¢çš„ç ”ç©¶æŠ¥å‘Šï¼Œæ˜¾è‘—åŠ é€Ÿæ‚¨çš„ç ”ç©¶è¿‡ç¨‹ã€‚
- **å¤šå¹³å°æ”¯æŒï¼š** æ”¯æŒå¿«é€Ÿéƒ¨ç½²åˆ° Vercelã€Cloudflare å’Œå…¶ä»–å¹³å°ã€‚
- **AI é©±åŠ¨ï¼š** åˆ©ç”¨å…ˆè¿›çš„ AI æ¨¡å‹è¿›è¡Œå‡†ç¡®è€Œæ·±åˆ»çš„åˆ†æã€‚
- **éšç§ä¼˜å…ˆï¼š** æ‚¨çš„æ•°æ®ä¿æŒç§å¯†å’Œå®‰å…¨ï¼Œæ‰€æœ‰æ•°æ®éƒ½å­˜å‚¨åœ¨æ‚¨çš„æµè§ˆå™¨æœ¬åœ°ã€‚
- **æ”¯æŒå¤šç§å¤§è¯­è¨€æ¨¡å‹ï¼š** æ”¯æŒå„ç§ä¸»æµå¤§è¯­è¨€æ¨¡å‹ï¼ŒåŒ…æ‹¬ Geminiã€OpenAIã€Anthropicã€Deepseekã€Grokã€Mistralã€Azure OpenAIã€ä»»ä½• OpenAI å…¼å®¹çš„ LLMã€OpenRouterã€Ollama ç­‰ã€‚
- **æ”¯æŒç½‘ç»œæœç´¢ï¼š** æ”¯æŒ Searxngã€Tavilyã€Firecrawlã€Exaã€Bocha ç­‰æœç´¢å¼•æ“ï¼Œè®©ä¸æ”¯æŒæœç´¢çš„ LLM èƒ½å¤Ÿæ›´æ–¹ä¾¿åœ°ä½¿ç”¨ç½‘ç»œæœç´¢åŠŸèƒ½ã€‚
- **æ€è€ƒå’Œä»»åŠ¡æ¨¡å‹ï¼š** é‡‡ç”¨å¤æ‚çš„"æ€è€ƒ"å’Œ"ä»»åŠ¡"æ¨¡å‹æ¥å¹³è¡¡æ·±åº¦å’Œé€Ÿåº¦ï¼Œç¡®ä¿å¿«é€Ÿè·å¾—é«˜è´¨é‡ç»“æœã€‚æ”¯æŒåˆ‡æ¢ç ”ç©¶æ¨¡å‹ã€‚
- **æ”¯æŒè¿›ä¸€æ­¥ç ”ç©¶ï¼š** æ‚¨å¯ä»¥åœ¨é¡¹ç›®çš„ä»»ä½•é˜¶æ®µç»†åŒ–æˆ–è°ƒæ•´ç ”ç©¶å†…å®¹ï¼Œå¹¶æ”¯æŒä»è¯¥é˜¶æ®µé‡æ–°ç ”ç©¶ã€‚
- **æœ¬åœ°çŸ¥è¯†åº“ï¼š** æ”¯æŒä¸Šä¼ å’Œå¤„ç†æ–‡æœ¬ã€Officeã€PDF ç­‰èµ„æºæ–‡ä»¶ä»¥ç”Ÿæˆæœ¬åœ°çŸ¥è¯†åº“ã€‚
- **Artifactï¼š** æ”¯æŒç¼–è¾‘ç ”ç©¶å†…å®¹ï¼Œå…·æœ‰ä¸¤ç§ç¼–è¾‘æ¨¡å¼ï¼šWYSIWYM å’Œ Markdownã€‚å¯ä»¥è°ƒæ•´é˜…è¯»çº§åˆ«ã€æ–‡ç« é•¿åº¦å’Œå…¨æ–‡ç¿»è¯‘ã€‚
- **çŸ¥è¯†å›¾è°±ï¼š** æ”¯æŒä¸€é”®ç”ŸæˆçŸ¥è¯†å›¾è°±ï¼Œè®©æ‚¨å¯¹æŠ¥å‘Šå†…å®¹æœ‰ç³»ç»Ÿæ€§çš„äº†è§£ã€‚
- **ç ”ç©¶å†å²ï¼š** æ”¯æŒä¿å­˜ç ”ç©¶å†å²ï¼Œæ‚¨å¯ä»¥éšæ—¶å›é¡¾ä¹‹å‰çš„ç ”ç©¶ç»“æœå¹¶å†æ¬¡è¿›è¡Œæ·±å…¥ç ”ç©¶ã€‚
- **æœ¬åœ°å’ŒæœåŠ¡å™¨ API æ”¯æŒï¼š** æä¾›æœ¬åœ°å’ŒæœåŠ¡å™¨ç«¯ API è°ƒç”¨é€‰é¡¹çš„çµæ´»æ€§ä»¥æ»¡è¶³æ‚¨çš„éœ€æ±‚ã€‚
- **æ”¯æŒ SaaS å’Œ MCPï¼š** æ‚¨å¯ä»¥é€šè¿‡ SSE API å°†æ­¤é¡¹ç›®ç”¨ä½œæ·±åº¦ç ”ç©¶æœåŠ¡ï¼ˆSaaSï¼‰ï¼Œæˆ–é€šè¿‡ MCP æœåŠ¡åœ¨å…¶ä»– AI æœåŠ¡ä¸­ä½¿ç”¨å®ƒã€‚
- **æ”¯æŒ PWAï¼š** é€šè¿‡æ¸è¿›å¼ç½‘ç»œåº”ç”¨ç¨‹åºï¼ˆPWAï¼‰æŠ€æœ¯ï¼Œæ‚¨å¯ä»¥åƒè½¯ä»¶ä¸€æ ·ä½¿ç”¨è¯¥é¡¹ç›®ã€‚
- **æ”¯æŒå¤šå¯†é’¥è´Ÿè½½ï¼š** æ”¯æŒå¤šå¯†é’¥è´Ÿè½½ä»¥æé«˜ API å“åº”æ•ˆç‡ã€‚
- **å¤šè¯­è¨€æ”¯æŒï¼š** è‹±è¯­ã€ç®€ä½“ä¸­æ–‡ã€è¥¿ç­ç‰™è¯­ã€‚
- **ä½¿ç”¨ç°ä»£æŠ€æœ¯æ„å»ºï¼š** ä½¿ç”¨ Next.js 15 å’Œ Shadcn UI å¼€å‘ï¼Œç¡®ä¿ç°ä»£ã€é«˜æ€§èƒ½å’Œè§†è§‰ä¸Šå¸å¼•äººçš„ç”¨æˆ·ä½“éªŒã€‚
- **MIT è®¸å¯ï¼š** åœ¨ MIT è®¸å¯ä¸‹å¼€æºï¼Œå¯å…è´¹ç”¨äºä¸ªäººå’Œå•†ä¸šç”¨é€”ã€‚

## ğŸ¯ è·¯çº¿å›¾

- [x] æ”¯æŒä¿å­˜ç ”ç©¶å†å²
- [x] æ”¯æŒç¼–è¾‘æœ€ç»ˆæŠ¥å‘Šå’Œæœç´¢ç»“æœ
- [x] æ”¯æŒå…¶ä»– LLM æ¨¡å‹
- [x] æ”¯æŒæ–‡ä»¶ä¸Šä¼ å’Œæœ¬åœ°çŸ¥è¯†åº“
- [x] æ”¯æŒ SSE API å’Œ MCP æœåŠ¡å™¨

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä½¿ç”¨å…è´¹ Geminiï¼ˆæ¨èï¼‰

1. è·å– [Gemini API Key](https://aistudio.google.com/app/apikey)
2. ä¸€é”®éƒ¨ç½²é¡¹ç›®ï¼Œæ‚¨å¯ä»¥é€‰æ‹©éƒ¨ç½²åˆ° Vercel æˆ– Cloudflare

   [![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fu14app%2Fdeep-research&project-name=deep-research&repository-name=deep-research)

   ç›®å‰é¡¹ç›®æ”¯æŒéƒ¨ç½²åˆ° Cloudflareï¼Œä½†æ‚¨éœ€è¦æŒ‰ç…§[å¦‚ä½•éƒ¨ç½²åˆ° Cloudflare Pages](./docs/How-to-deploy-to-Cloudflare-Pages.md) æ¥å®Œæˆã€‚

3. å¼€å§‹ä½¿ç”¨

### ä½¿ç”¨å…¶ä»– LLM

1. å°†é¡¹ç›®éƒ¨ç½²åˆ° Vercel æˆ– Cloudflare
2. è®¾ç½® LLM API å¯†é’¥
3. è®¾ç½® LLM API åŸºç¡€ URLï¼ˆå¯é€‰ï¼‰
4. å¼€å§‹ä½¿ç”¨

## âŒ¨ï¸ å¼€å‘

æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤åœ¨æ‚¨çš„æœ¬åœ°æµè§ˆå™¨ä¸Šè¿è¡Œ Deep Researchã€‚

### å‰ç½®æ¡ä»¶

- [Node.js](https://nodejs.org/)ï¼ˆæ¨èç‰ˆæœ¬ 18.18.0 æˆ–æ›´é«˜ï¼‰
- [pnpm](https://pnpm.io/) æˆ– [npm](https://www.npmjs.com/) æˆ– [yarn](https://yarnpkg.com/)

### å®‰è£…

1. **å…‹éš†ä»“åº“ï¼š**

   ```bash
   git clone https://github.com/u14app/deep-research.git
   cd deep-research
   ```

2. **å®‰è£…ä¾èµ–ï¼š**

   ```bash
   pnpm install  # æˆ– npm install æˆ– yarn install
   ```

3. **è®¾ç½®ç¯å¢ƒå˜é‡ï¼š**

   æ‚¨éœ€è¦å°†æ–‡ä»¶ `env.tpl` ä¿®æ”¹ä¸º `.env`ï¼Œæˆ–åˆ›å»ºä¸€ä¸ª `.env` æ–‡ä»¶å¹¶å°†å˜é‡å†™å…¥æ­¤æ–‡ä»¶ã€‚

   ```bash
   # ç”¨äºå¼€å‘
   cp env.tpl .env.local
   # ç”¨äºç”Ÿäº§
   cp env.tpl .env
   ```

4. **è¿è¡Œå¼€å‘æœåŠ¡å™¨ï¼š**

   ```bash
   pnpm dev  # æˆ– npm run dev æˆ– yarn dev
   ```

   æ‰“å¼€æµè§ˆå™¨å¹¶è®¿é—® [http://localhost:3000](http://localhost:3000) æ¥è®¿é—® Deep Researchã€‚

### è‡ªå®šä¹‰æ¨¡å‹åˆ—è¡¨

é¡¹ç›®å…è®¸è‡ªå®šä¹‰æ¨¡å‹åˆ—è¡¨ï¼Œä½†**ä»…åœ¨ä»£ç†æ¨¡å¼ä¸‹å·¥ä½œ**ã€‚è¯·åœ¨ `.env` æ–‡ä»¶æˆ–ç¯å¢ƒå˜é‡é¡µé¢ä¸­æ·»åŠ åä¸º `NEXT_PUBLIC_MODEL_LIST` çš„ç¯å¢ƒå˜é‡ã€‚

è‡ªå®šä¹‰æ¨¡å‹åˆ—è¡¨ä½¿ç”¨ `,` åˆ†éš”å¤šä¸ªæ¨¡å‹ã€‚å¦‚æœè¦ç¦ç”¨æŸä¸ªæ¨¡å‹ï¼Œè¯·ä½¿ç”¨ `-` ç¬¦å·åè·Ÿæ¨¡å‹åç§°ï¼Œå³ `-existing-model-name`ã€‚è¦ä»…å…è®¸æŒ‡å®šçš„æ¨¡å‹å¯ç”¨ï¼Œè¯·ä½¿ç”¨ `-all,+new-model-name`ã€‚

## ğŸš¢ éƒ¨ç½²

### Vercel

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fu14app%2Fdeep-research&project-name=deep-research&repository-name=deep-research)

### Cloudflare

ç›®å‰é¡¹ç›®æ”¯æŒéƒ¨ç½²åˆ° Cloudflareï¼Œä½†æ‚¨éœ€è¦æŒ‰ç…§[å¦‚ä½•éƒ¨ç½²åˆ° Cloudflare Pages](./docs/How-to-deploy-to-Cloudflare-Pages.md) æ¥å®Œæˆã€‚

### Docker

> Docker ç‰ˆæœ¬éœ€è¦ 20 æˆ–ä»¥ä¸Šï¼Œå¦åˆ™ä¼šæç¤ºæ‰¾ä¸åˆ°é•œåƒã€‚

> âš ï¸ æ³¨æ„ï¼šå¤§å¤šæ•°æ—¶å€™ï¼Œdocker ç‰ˆæœ¬ä¼šæ¯”æœ€æ–°ç‰ˆæœ¬æ»å 1-2 å¤©ï¼Œå› æ­¤éƒ¨ç½²åä¼šç»§ç»­å‡ºç°"å­˜åœ¨æ›´æ–°"æç¤ºï¼Œè¿™æ˜¯æ­£å¸¸çš„ã€‚

```bash
docker pull xiangfa/deep-research:latest
docker run -d --name deep-research -p 3333:3000 xiangfa/deep-research
```

æ‚¨ä¹Ÿå¯ä»¥æŒ‡å®šå…¶ä»–ç¯å¢ƒå˜é‡ï¼š

```bash
docker run -d --name deep-research \
   -p 3333:3000 \
   -e ACCESS_PASSWORD=your-password \
   -e GOOGLE_GENERATIVE_AI_API_KEY=AIzaSy... \
   xiangfa/deep-research
```

æˆ–æ„å»ºæ‚¨è‡ªå·±çš„ docker é•œåƒï¼š

```bash
docker build -t deep-research .
docker run -d --name deep-research -p 3333:3000 deep-research
```

å¦‚æœéœ€è¦æŒ‡å®šå…¶ä»–ç¯å¢ƒå˜é‡ï¼Œè¯·åœ¨ä¸Šè¿°å‘½ä»¤ä¸­æ·»åŠ  `-e key=value` æ¥æŒ‡å®šã€‚

ä½¿ç”¨ `docker-compose.yml` éƒ¨ç½²ï¼š

```bash
version: '3.9'
services:
   deep-research:
      image: xiangfa/deep-research
      container_name: deep-research
      environment:
         - ACCESS_PASSWORD=your-password
         - GOOGLE_GENERATIVE_AI_API_KEY=AIzaSy...
      ports:
         - 3333:3000
```

æˆ–æ„å»ºæ‚¨è‡ªå·±çš„ docker composeï¼š

```bash
docker compose -f docker-compose.yml build
```

### é™æ€éƒ¨ç½²

æ‚¨ä¹Ÿå¯ä»¥ç›´æ¥æ„å»ºé™æ€é¡µé¢ç‰ˆæœ¬ï¼Œç„¶åå°† `out` ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ åˆ°ä»»ä½•æ”¯æŒé™æ€é¡µé¢çš„ç½‘ç«™æœåŠ¡ï¼Œå¦‚ Github Pageã€Cloudflareã€Vercel ç­‰ã€‚

```bash
pnpm build:export
```

## âš™ï¸ é…ç½®

å¦‚"å¿«é€Ÿå¼€å§‹"éƒ¨åˆ†æ‰€è¿°ï¼ŒDeep Research ä½¿ç”¨ä»¥ä¸‹ç¯å¢ƒå˜é‡è¿›è¡ŒæœåŠ¡å™¨ç«¯ API é…ç½®ï¼š

è¯·å‚è€ƒæ–‡ä»¶ [env.tpl](./env.tpl) æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„ç¯å¢ƒå˜é‡ã€‚

**ç¯å¢ƒå˜é‡çš„é‡è¦è¯´æ˜ï¼š**

- **éšç§æé†’ï¼š** è¿™äº›ç¯å¢ƒå˜é‡ä¸»è¦ç”¨äº**æœåŠ¡å™¨ç«¯ API è°ƒç”¨**ã€‚å½“ä½¿ç”¨**æœ¬åœ° API æ¨¡å¼**æ—¶ï¼Œä¸éœ€è¦ API å¯†é’¥æˆ–æœåŠ¡å™¨ç«¯é…ç½®ï¼Œè¿›ä¸€æ­¥å¢å¼ºæ‚¨çš„éšç§ã€‚

- **å¤šå¯†é’¥æ”¯æŒï¼š** æ”¯æŒå¤šä¸ªå¯†é’¥ï¼Œæ¯ä¸ªå¯†é’¥ç”¨ `,` åˆ†éš”ï¼Œå³ `key1,key2,key3`ã€‚

- **å®‰å…¨è®¾ç½®ï¼š** é€šè¿‡è®¾ç½® `ACCESS_PASSWORD`ï¼Œæ‚¨å¯ä»¥æ›´å¥½åœ°ä¿æŠ¤æœåŠ¡å™¨ API çš„å®‰å…¨ã€‚

- **ä½¿å˜é‡ç”Ÿæ•ˆï¼š** æ·»åŠ æˆ–ä¿®æ”¹æ­¤ç¯å¢ƒå˜é‡åï¼Œè¯·é‡æ–°éƒ¨ç½²é¡¹ç›®ä»¥ä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚

## ğŸ“„ API æ–‡æ¡£

ç›®å‰é¡¹ç›®æ”¯æŒä¸¤ç§å½¢å¼çš„ APIï¼šæœåŠ¡å™¨å‘é€äº‹ä»¶ï¼ˆSSEï¼‰å’Œæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼ˆMCPï¼‰ã€‚

### æœåŠ¡å™¨å‘é€äº‹ä»¶ API

Deep Research API æä¾›äº†ä¸€ä¸ªå®æ—¶æ¥å£ï¼Œç”¨äºå¯åŠ¨å’Œç›‘æ§å¤æ‚çš„ç ”ç©¶ä»»åŠ¡ã€‚

å»ºè®®é€šè¿‡ `@microsoft/fetch-event-source` ä½¿ç”¨ APIï¼Œè¦è·å–æœ€ç»ˆæŠ¥å‘Šï¼Œæ‚¨éœ€è¦ç›‘å¬ `message` äº‹ä»¶ï¼Œæ•°æ®å°†ä»¥æ–‡æœ¬æµçš„å½¢å¼è¿”å›ã€‚

#### POST æ–¹æ³•

ç«¯ç‚¹ï¼š`/api/sse`

æ–¹æ³•ï¼š`POST`

è¯·æ±‚ä½“ï¼š

```typescript
interface SSEConfig {
  // ç ”ç©¶ä¸»é¢˜
  query: string;
  // AI æä¾›å•†ï¼Œå¯èƒ½çš„å€¼åŒ…æ‹¬ï¼šgoogle, openai, anthropic, deepseek, xai, mistral, azure, openrouter, openaicompatible, pollinations, ollama
  provider: string;
  // æ€è€ƒæ¨¡å‹ ID
  thinkingModel: string;
  // ä»»åŠ¡æ¨¡å‹ ID
  taskModel: string;
  // æœç´¢æä¾›å•†ï¼Œå¯èƒ½çš„å€¼åŒ…æ‹¬ï¼šmodel, tavily, firecrawl, exa, bocha, searxng
  searchProvider: string;
  // å“åº”è¯­è¨€ï¼Œä¹Ÿä¼šå½±å“æœç´¢è¯­è¨€ã€‚ï¼ˆå¯é€‰ï¼‰
  language?: string;
  // æœ€å¤§æœç´¢ç»“æœæ•°ã€‚é»˜è®¤ä¸º `5`ï¼ˆå¯é€‰ï¼‰
  maxResult?: number;
  // æ˜¯å¦åœ¨æœ€ç»ˆæŠ¥å‘Šä¸­åŒ…å«å†…å®¹ç›¸å…³å›¾åƒã€‚é»˜è®¤ä¸º `true`ã€‚ï¼ˆå¯é€‰ï¼‰
  enableCitationImage?: boolean;
  // æ˜¯å¦åœ¨æœç´¢ç»“æœå’Œæœ€ç»ˆæŠ¥å‘Šä¸­åŒ…å«å¼•ç”¨é“¾æ¥ã€‚é»˜è®¤ä¸º `true`ã€‚ï¼ˆå¯é€‰ï¼‰
  enableReferences?: boolean;
}
```

è¯·æ±‚å¤´ï¼š

```typescript
interface Headers {
  "Content-Type": "application/json";
  // å¦‚æœæ‚¨è®¾ç½®äº†è®¿é—®å¯†ç 
  // Authorization: "Bearer YOUR_ACCESS_PASSWORD";
}
```

è¯¦ç»†ä¿¡æ¯è¯·å‚é˜… [API æ–‡æ¡£](./docs/deep-research-api-doc.md)ã€‚

#### GET æ–¹æ³•

è¿™æ˜¯ä¸€ä¸ªæœ‰è¶£çš„å®ç°ã€‚æ‚¨å¯ä»¥é€šè¿‡ URL ç›´æ¥è§‚çœ‹æ•´ä¸ªæ·±åº¦ç ”ç©¶è¿‡ç¨‹ï¼Œå°±åƒè§‚çœ‹è§†é¢‘ä¸€æ ·ã€‚

æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹é“¾æ¥è®¿é—®æ·±åº¦ç ”ç©¶æŠ¥å‘Šï¼š

```text
http://localhost:3000/api/sse/live?query=AI+trends+for+this+year&provider=pollinations&thinkingModel=openai&taskModel=openai-fast&searchProvider=searxng
```

æŸ¥è¯¢å‚æ•°ï¼š

```typescript
// å‚æ•°ä¸ POST å‚æ•°ç›¸åŒ
interface QueryParams extends SSEConfig {
  // å¦‚æœæ‚¨è®¾ç½®äº† `ACCESS_PASSWORD` ç¯å¢ƒå˜é‡ï¼Œåˆ™æ­¤å‚æ•°æ˜¯å¿…éœ€çš„
  password?: string;
}
```

### æ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼ˆMCPï¼‰æœåŠ¡å™¨

ç›®å‰æ”¯æŒ `StreamableHTTP` å’Œ `SSE` æœåŠ¡å™¨ä¼ è¾“ã€‚

StreamableHTTP æœåŠ¡å™¨ç«¯ç‚¹ï¼š`/api/mcp`ï¼Œä¼ è¾“ç±»å‹ï¼š`streamable-http`

SSE æœåŠ¡å™¨ç«¯ç‚¹ï¼š`/api/mcp/sse`ï¼Œä¼ è¾“ç±»å‹ï¼š`sse`

```json
{
  "mcpServers": {
    "deep-research": {
      "url": "http://127.0.0.1:3000/api/mcp",
      "transportType": "streamable-http",
      "timeout": 600
    }
  }
}
```

**æ³¨æ„ï¼š** ç”±äºæ·±åº¦ç ”ç©¶éœ€è¦å¾ˆé•¿æ—¶é—´æ‰èƒ½æ‰§è¡Œï¼Œæ‚¨éœ€è¦è®¾ç½®æ›´é•¿çš„è¶…æ—¶æ—¶é—´ä»¥é¿å…ä¸­æ–­ç ”ç©¶ã€‚

å¦‚æœæ‚¨çš„æœåŠ¡å™¨è®¾ç½®äº† `ACCESS_PASSWORD`ï¼ŒMCP æœåŠ¡å°†å—åˆ°ä¿æŠ¤ï¼Œæ‚¨éœ€è¦æ·»åŠ é¢å¤–çš„å¤´éƒ¨å‚æ•°ï¼š

```json
{
  "mcpServers": {
    "deep-research": {
      "url": "http://127.0.0.1:3000/api/mcp",
      "transportType": "streamable-http",
      "timeout": 600,
      "headers": {
        "Authorization": "Bearer YOUR_ACCESS_PASSWORD"
      }
    }
  }
}
```

**å¯ç”¨ MCP æœåŠ¡éœ€è¦è®¾ç½®å…¨å±€ç¯å¢ƒå˜é‡ï¼š**

```bash
# MCP æœåŠ¡å™¨ AI æä¾›å•†
# å¯èƒ½çš„å€¼åŒ…æ‹¬ï¼šgoogle, openai, anthropic, deepseek, xai, mistral, azure, openrouter, openaicompatible, pollinations, ollama
MCP_AI_PROVIDER=google
# MCP æœåŠ¡å™¨æœç´¢æä¾›å•†ã€‚é»˜è®¤ä¸º `model`
# å¯èƒ½çš„å€¼åŒ…æ‹¬ï¼šmodel, tavily, firecrawl, exa, bocha, searxng
MCP_SEARCH_PROVIDER=tavily
# MCP æœåŠ¡å™¨æ€è€ƒæ¨¡å‹ IDï¼Œæ·±åº¦ç ”ç©¶ä¸­ä½¿ç”¨çš„æ ¸å¿ƒæ¨¡å‹ã€‚
MCP_THINKING_MODEL=gemini-2.0-flash-thinking-exp
# MCP æœåŠ¡å™¨ä»»åŠ¡æ¨¡å‹ IDï¼Œç”¨äºæ¬¡è¦ä»»åŠ¡ï¼Œæ¨èé«˜è¾“å‡ºæ¨¡å‹ã€‚
MCP_TASK_MODEL=gemini-2.0-flash-exp
```

**æ³¨æ„ï¼š** ä¸ºç¡®ä¿ MCP æœåŠ¡èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ï¼Œæ‚¨éœ€è¦è®¾ç½®ç›¸åº”æ¨¡å‹å’Œæœç´¢å¼•æ“çš„ç¯å¢ƒå˜é‡ã€‚å…·ä½“ç¯å¢ƒå˜é‡å‚æ•°è¯·å‚è€ƒ [env.tpl](./env.tpl)ã€‚

## ğŸª„ å·¥ä½œåŸç†

1. **ç ”ç©¶ä¸»é¢˜**

   - è¾“å…¥ç ”ç©¶ä¸»é¢˜
   - ä½¿ç”¨æœ¬åœ°ç ”ç©¶èµ„æºï¼ˆå¯é€‰ï¼‰
   - å¼€å§‹æ€è€ƒï¼ˆæˆ–é‡æ–°æ€è€ƒï¼‰

2. **æå‡ºæ‚¨çš„æƒ³æ³•**

   - ç³»ç»Ÿæé—®
     - å›ç­”ç³»ç»Ÿé—®é¢˜ï¼ˆå¯é€‰ï¼‰
     - ç¼–å†™ç ”ç©¶è®¡åˆ’ï¼ˆæˆ–é‡å†™ç ”ç©¶è®¡åˆ’ï¼‰
   - ç³»ç»Ÿè¾“å‡ºç ”ç©¶è®¡åˆ’
     - å¼€å§‹æ·±å…¥ç ”ç©¶ï¼ˆæˆ–é‡æ–°ç ”ç©¶ï¼‰
     - ç³»ç»Ÿç”Ÿæˆ SERP æŸ¥è¯¢

3. **ä¿¡æ¯æ”¶é›†**

   - åˆå§‹ç ”ç©¶
     - åŸºäº SERP æŸ¥è¯¢æ£€ç´¢æœ¬åœ°ç ”ç©¶èµ„æº
     - åŸºäº SERP æŸ¥è¯¢ä»äº’è”ç½‘æ”¶é›†ä¿¡æ¯
   - æ·±å…¥ç ”ç©¶ï¼ˆæ­¤è¿‡ç¨‹å¯ä»¥é‡å¤ï¼‰
     - æå‡ºç ”ç©¶å»ºè®®ï¼ˆå¯é€‰ï¼‰
     - å¼€å§‹æ–°ä¸€è½®ä¿¡æ¯æ”¶é›†ï¼ˆè¿‡ç¨‹ä¸åˆå§‹ç ”ç©¶ç›¸åŒï¼‰

4. **ç”Ÿæˆæœ€ç»ˆæŠ¥å‘Š**

   - æå‡ºå†™ä½œè¯·æ±‚ï¼ˆå¯é€‰ï¼‰
   - å°†æ‰€æœ‰ç ”ç©¶ææ–™æ€»ç»“ä¸ºå…¨é¢çš„ Markdown æŠ¥å‘Š
   - é‡æ–°ç”Ÿæˆç ”ç©¶æŠ¥å‘Šï¼ˆå¯é€‰ï¼‰

```mermaid
flowchart TB
    A[ç ”ç©¶ä¸»é¢˜]:::start

    subgraph Propose[æå‡ºæ‚¨çš„æƒ³æ³•]
        B1[ç³»ç»Ÿæé—®]:::process
        B2[ç³»ç»Ÿè¾“å‡ºç ”ç©¶è®¡åˆ’]:::process
        B3[ç³»ç»Ÿç”Ÿæˆ SERP æŸ¥è¯¢]:::process
        B1 --> B2
        B2 --> B3
    end

    subgraph Collect[ä¿¡æ¯æ”¶é›†]
        C1[åˆå§‹ç ”ç©¶]:::collection
        C1a[åŸºäº SERP æŸ¥è¯¢æ£€ç´¢æœ¬åœ°ç ”ç©¶èµ„æº]:::collection
        C1b[åŸºäº SERP æŸ¥è¯¢ä»äº’è”ç½‘æ”¶é›†ä¿¡æ¯]:::collection
        C2[æ·±å…¥ç ”ç©¶]:::recursive
        Refine{éœ€è¦æ›´æ·±å…¥çš„ç ”ç©¶å—ï¼Ÿ}:::decision

        C1 --> C1a
        C1 --> C1b
        C1a --> C2
        C1b --> C2
        C2 --> Refine
        Refine -->|æ˜¯| C2
    end

    Report[ç”Ÿæˆæœ€ç»ˆæŠ¥å‘Š]:::output

    A --> Propose
    B3 --> C1

    %% Connect the exit from the loop/subgraph to the final report
    Refine -->|å¦| Report

    %% Styling
    classDef start fill:#7bed9f,stroke:#2ed573,color:black
    classDef process fill:#70a1ff,stroke:#1e90ff,color:black
    classDef recursive fill:#ffa502,stroke:#ff7f50,color:black
    classDef output fill:#ff4757,stroke:#ff6b81,color:black
    classDef collection fill:#a8e6cf,stroke:#3b7a57,color:black
    classDef decision fill:#c8d6e5,stroke:#8395a7,color:black

    class A start
    class B1,B2,B3 process
    class C1,C1a,C1b collection
    class C2 recursive
    class Refine decision
    class Report output
```

## ğŸ™‹ å¸¸è§é—®é¢˜

**ä¸ºä»€ä¹ˆæˆ‘çš„ Ollama æˆ– SearXNG æ— æ³•æ­£å¸¸å·¥ä½œå¹¶æ˜¾ç¤ºé”™è¯¯ `TypeError: Failed to fetch`ï¼Ÿ**

å¦‚æœæ‚¨çš„è¯·æ±‚ç”±äºæµè§ˆå™¨å®‰å…¨é™åˆ¶è€Œäº§ç”Ÿ `CORS`ï¼Œæ‚¨éœ€è¦ä¸º Ollama æˆ– SearXNG é…ç½®å‚æ•°ä»¥å…è®¸è·¨åŸŸè¯·æ±‚ã€‚æ‚¨ä¹Ÿå¯ä»¥è€ƒè™‘ä½¿ç”¨æœåŠ¡å™¨ä»£ç†æ¨¡å¼ï¼Œè¿™æ˜¯ä¸€ä¸ªåç«¯æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œå¯ä»¥æœ‰æ•ˆé¿å…è·¨åŸŸé—®é¢˜ã€‚

## ğŸ›¡ï¸ éšç§

Deep Research åœ¨è®¾è®¡æ—¶è€ƒè™‘äº†æ‚¨çš„éšç§ã€‚**æ‰€æœ‰ç ”ç©¶æ•°æ®å’Œç”Ÿæˆçš„æŠ¥å‘Šéƒ½å­˜å‚¨åœ¨æ‚¨çš„æœºå™¨æœ¬åœ°ã€‚** æˆ‘ä»¬ä¸æ”¶é›†æˆ–ä¼ è¾“æ‚¨çš„ä»»ä½•ç ”ç©¶æ•°æ®åˆ°å¤–éƒ¨æœåŠ¡å™¨ï¼ˆé™¤éæ‚¨æ˜ç¡®ä½¿ç”¨æœåŠ¡å™¨ç«¯ API è°ƒç”¨ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ•°æ®é€šè¿‡æ‚¨é…ç½®çš„ä»£ç†ï¼ˆå¦‚æœæœ‰ï¼‰å‘é€åˆ° APIï¼‰ã€‚æ‚¨çš„éšç§æ˜¯æˆ‘ä»¬çš„ä¼˜å…ˆè€ƒè™‘ã€‚

## ğŸ™ è‡´è°¢

- [Next.js](https://nextjs.org/) - ç”¨äºæ„å»ºé«˜æ€§èƒ½ Web åº”ç”¨ç¨‹åºçš„ React æ¡†æ¶ã€‚
- [Shadcn UI](https://ui.shadcn.com/) - ç²¾ç¾è®¾è®¡çš„ç»„ä»¶ï¼Œå¸®åŠ©ç®€åŒ–äº† UI å¼€å‘ã€‚
- [AI SDKs](https://sdk.vercel.ai) - ä¸º Deep Research çš„æ™ºèƒ½ç ”ç©¶åŠŸèƒ½æä¾›æ”¯æŒã€‚
- [Deep Research](https://github.com/dzhng/deep-research) - æ„Ÿè°¢é¡¹ç›® `dzhng/deep-research` çš„å¯å‘ã€‚

## ğŸ¤ è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿å¯¹ Deep Research çš„è´¡çŒ®ï¼å¦‚æœæ‚¨æœ‰æ”¹è¿›æƒ³æ³•ã€é”™è¯¯ä¿®å¤æˆ–æ–°åŠŸèƒ½ï¼Œè¯·éšæ—¶ï¼š

1. Fork ä»“åº“ã€‚
2. ä¸ºæ‚¨çš„åŠŸèƒ½æˆ–é”™è¯¯ä¿®å¤åˆ›å»ºæ–°åˆ†æ”¯ã€‚
3. è¿›è¡Œæ›´æ”¹å¹¶æäº¤ã€‚
4. æäº¤æ‹‰å–è¯·æ±‚ã€‚

å¯¹äºé‡å¤§æ›´æ”¹ï¼Œè¯·å…ˆå¼€å¯ä¸€ä¸ªé—®é¢˜æ¥è®¨è®ºæ‚¨æè®®çš„æ›´æ”¹ã€‚

## âœ‰ï¸ è”ç³»

å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ã€å»ºè®®æˆ–åé¦ˆï¼Œè¯·åˆ›å»ºä¸€ä¸ªæ–°çš„ [issue](https://github.com/u14app/deep-research/issues)ã€‚

## ğŸŒŸ Star å†å²

[![Star History Chart](https://api.star-history.com/svg?repos=u14app/deep-research&type=Date)](https://www.star-history.com/#u14app/deep-research&Date)

## ğŸ“ è®¸å¯è¯

Deep Research åœ¨ [MIT è®¸å¯è¯](LICENSE) ä¸‹å‘å¸ƒã€‚æ­¤è®¸å¯è¯å…è®¸å…è´¹ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘ï¼Œç”¨äºå•†ä¸šå’Œéå•†ä¸šç›®çš„ã€‚
